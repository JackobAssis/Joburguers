<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - Joburguers</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üçî</text></svg>">
    <link rel="stylesheet" href="css/globals.css">
    <link rel="stylesheet" href="css/cliente.css">
    <link rel="stylesheet" href="css/header.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header__container">
            <div class="header__logo">
                <h1>üçî Joburguers</h1>
            </div>
            <!-- Menu toggle (mobile) -->
            <button id="menuToggle" class="header__menu-toggle" aria-label="Abrir menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="header__nav">
                <a href="index.html" class="header__link">Card√°pio</a>
                <a href="index.html#promocoes" class="header__link">Promo√ß√µes</a>
                <button id="logoutBtn" class="header__link header__link--logout">Sair</button>
            </nav>
        </div>
        <!-- Menu Mobile -->
        <nav class="header__mobile-menu" id="mobileMenu">
            <a href="index.html">Card√°pio</a>
            <a href="index.html#promocoes">Promo√ß√µes</a>
            <button id="logoutBtnMobile" class="header__link header__link--logout">Sair</button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="cliente-container">
        <!-- Sidebar de Navega√ß√£o -->
        <aside class="cliente-sidebar">
            <nav class="cliente-nav">
                <button class="cliente-nav__item cliente-nav__item--active" data-section="dashboard">
                    üìä Dashboard
                </button>
                <button class="cliente-nav__item" data-section="pontos">
                    ‚≠ê Meus Pontos
                </button>
                <button class="cliente-nav__item" data-section="historico">
                    üìú Hist√≥rico
                </button>
                <button class="cliente-nav__item" data-section="dados">
                    üë§ Meus Dados
                </button>
            </nav>
            <button id="logoutBtnSidebar" class="cliente-nav__logout">
                üö™ Sair
            </button>
        </aside>

        <!-- Conte√∫do Principal -->
        <div class="cliente-content">
            <!-- Dashboard -->
            <section id="dashboard" class="cliente-section cliente-section--active">
                <h2>Dashboard</h2>
                
                <div class="dashboard-grid">
                    <!-- Card Perfil -->
                    <div class="dashboard-card dashboard-card--large">
                        <div class="perfil-card">
                            <div class="perfil-card__avatar" id="profileAvatar">üë§</div>
                            <div class="perfil-card__info">
                                <h3 id="clientName" class="perfil-card__name"></h3>
                                <p id="clientPhone" class="perfil-card__phone"></p>
                                <p id="memberSince" class="perfil-card__date"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Card Pontos Totais -->
                    <div class="dashboard-card">
                        <div class="stat-card">
                            <span class="stat-card__icon">‚≠ê</span>
                            <h3 class="stat-card__label">Pontos Dispon√≠veis</h3>
                            <p class="stat-card__value" id="totalPoints">0</p>
                            <small>Pr√≥ximo n√≠vel: <span id="nextLevel">100</span> pontos</small>
                        </div>
                    </div>

                    <!-- Card Status -->
                    <div class="dashboard-card">
                        <div class="stat-card">
                            <span class="stat-card__icon">üéØ</span>
                            <h3 class="stat-card__label">Status</h3>
                            <p class="stat-card__value" id="memberStatus">Bronze</p>
                            <small>Ganhe mais pontos para subir!</small>
                        </div>
                    </div>

                    <!-- Card Pr√≥ximo Resgate -->
                    <div class="dashboard-card">
                        <div class="stat-card">
                            <span class="stat-card__icon">üéÅ</span>
                            <h3 class="stat-card__label">Pr√≥ximo Resgate</h3>
                            <p class="stat-card__value" id="nextReward">150 pontos</p>
                            <small>Faltam <span id="pointsNeeded">150</span> pontos</small>
                        </div>
                    </div>
                </div>

                <!-- Progresso de N√≠vel -->
                <div class="progress-section">
                    <h3>Progresso do N√≠vel</h3>
                    <div class="level-progress">
                        <div id="progressBar" class="level-progress__bar" style="width: 0%;"></div>
                    </div>
                    <p class="level-progress__label">
                        <span id="currentPoints">0</span> de <span id="levelTarget">100</span> pontos
                    </p>
                </div>

                <!-- Niveis Dispon√≠veis -->
                <div class="levels-section">
                    <h3>N√≠veis de Recompensa</h3>
                    <div class="levels-grid">
                        <div class="level-item level-item--bronze">
                            <span>ü•â Bronze</span>
                            <small>0-100 pts</small>
                        </div>
                        <div class="level-item level-item--silver">
                            <span>ü•à Prata</span>
                            <small>101-300 pts</small>
                        </div>
                        <div class="level-item level-item--gold">
                            <span>ü•á Ouro</span>
                            <small>301-500 pts</small>
                        </div>
                        <div class="level-item level-item--platinum">
                            <span>üíé Platina</span>
                            <small>501+ pts</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Meus Pontos -->
            <section id="pontos" class="cliente-section">
                <h2>Meus Pontos</h2>
                
                <div class="pontos-info">
                    <div class="info-card">
                        <h3>Saldo Atual</h3>
                        <p class="pontos-value" id="saldoPontos">0</p>
                    </div>
                    <div class="info-card">
                        <h3>Pontos Ganhos</h3>
                        <p class="pontos-value" id="pontosGanhos">0</p>
                    </div>
                    <div class="info-card">
                        <h3>Pontos Resgatados</h3>
                        <p class="pontos-value" id="pontosResgatados">0</p>
                    </div>
                </div>

                <!-- Como Ganhar Pontos -->
                <div class="como-ganhar">
                    <h3>Como Ganhar Pontos?</h3>
                    <ul class="pontos-list">
                        <li>
                            <span class="icon">üçî</span>
                            <div>
                                <strong>Compre Hamb√∫rgueres</strong>
                                <p>1 ponto a cada R$ 10 gasto</p>
                            </div>
                        </li>
                        <li>
                            <span class="icon">üéÅ</span>
                            <div>
                                <strong>Ganhos B√¥nus</strong>
                                <p>Receba pontos extras em promo√ß√µes especiais</p>
                            </div>
                        </li>
                        <li>
                            <span class="icon">üì±</span>
                            <div>
                                <strong>Indique Amigos</strong>
                                <p>Ganhe 50 pontos quando seu amigo fazer o primeiro pedido</p>
                            </div>
                        </li>
                        <li>
                            <span class="icon">üéâ</span>
                            <div>
                                <strong>Resgate de Recompensas</strong>
                                <p>Use seus pontos para ganhar descontos</p>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Resgates Dispon√≠veis -->
                <div class="resgates-section">
                    <h3>Resgates Dispon√≠veis</h3>
                    <div id="resgatesGrid" class="resgates-grid">
                        <!-- Resgates ser√£o carregados aqui -->
                    </div>
                </div>
            </section>

            <!-- Hist√≥rico -->
            <section id="historico" class="cliente-section">
                <h2>Hist√≥rico de Transa√ß√µes</h2>
                
                <div class="historico-filters">
                    <button class="filter-btn filter-btn--active" data-filter="todos">Todos</button>
                    <button class="filter-btn" data-filter="ganho">Ganhos</button>
                    <button class="filter-btn" data-filter="resgate">Resgates</button>
                </div>

                <div id="historicoList" class="historico-list">
                    <!-- Transa√ß√µes ser√£o carregadas aqui -->
                </div>

                <div id="emptyHistorico" class="empty-state" style="display: none;">
                    <p>Voc√™ ainda n√£o tem transa√ß√µes</p>
                    <small>Fa√ßa um pedido para ganhar seus primeiros pontos!</small>
                </div>
            </section>

            <!-- Meus Dados -->
            <section id="dados" class="cliente-section">
                <h2>Meus Dados Pessoais</h2>
                
                <form id="clientDataForm" class="dados-form">
                    <div class="form-group">
                        <label for="editName">Nome Completo</label>
                        <input type="text" id="editName" required>
                    </div>

                    <div class="form-group">
                        <label for="editPhone">Telefone</label>
                        <input type="tel" id="editPhone" required>
                    </div>

                    <div class="form-group">
                        <label for="editEmail">Email (opcional)</label>
                        <input type="email" id="editEmail">
                    </div>

                    <div class="form-group">
                        <label for="editBirthdate">Data de Nascimento (opcional)</label>
                        <input type="date" id="editBirthdate">
                    </div>

                    <button type="submit" class="btn btn--primary">Salvar Altera√ß√µes</button>
                </form>

                <!-- Se√ß√£o de Seguran√ßa -->
                <div class="seguranca-section">
                    <h3>Seguran√ßa</h3>
                    <button class="btn btn--secondary" id="changePasswordBtn">Alterar Senha</button>
                    <button class="btn btn--danger" id="deleteAccountBtn">Deletar Conta</button>
                </div>

                <div id="formMessage" class="alert" style="display: none;"></div>
            </section>
        </div>
    </main>

    <!-- Modal de Confirma√ß√£o de Resgate -->
    <div id="resgatarModal" class="modal" style="display: none;">
        <div class="modal__content">
            <h2>Confirmar Resgate</h2>
            <p id="resgatarModalText"></p>
            <div class="modal__actions">
                <button class="btn btn--primary" id="confirmarResgate">Confirmar</button>
                <button class="btn btn--secondary" id="cancelarResgate">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Altera√ß√£o de Senha -->
    <div id="changePasswordModal" class="modal" style="display: none;">
        <div class="modal__content">
            <h2>Alterar Senha</h2>
            <form id="changePasswordForm">
                <div class="form-group">
                    <label for="newPassword">Nova Senha</label>
                    <input type="password" id="newPassword" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirmar Senha</label>
                    <input type="password" id="confirmPassword" required>
                </div>
                <div class="modal__actions">
                    <button type="submit" class="btn btn--primary">Alterar</button>
                    <button type="button" class="btn btn--secondary" id="cancelPassword">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="js/cliente.js"></script>
</body>
</html>
